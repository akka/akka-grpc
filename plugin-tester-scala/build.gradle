buildscript {
  repositories {
    mavenLocal()
    gradlePluginPortal()
  }

  dependencies {
    classpath "com.lightbend.akka.grpc:akka-grpc-gradle-plugin:${project.getProperty("akkaGrpcTest.pluginVersion")}"
  }
}

plugins {
  id 'scala'
  id 'application'
}

apply plugin: 'com.lightbend.akka.grpc.gradle'

akkaGrpc {
  serverPowerApis = true // This isn't default
}

repositories {
  mavenCentral()
}

def scalaBinaryVersion = "2.12"

dependencies {
  implementation group: 'ch.megard', name: "akka-http-cors_${scalaBinaryVersion}", version: '0.4.2'
  testImplementation "com.typesafe.akka:akka-stream-testkit_${scalaBinaryVersion}:2.5.31"
  testImplementation "org.scalatest:scalatest_${scalaBinaryVersion}:3.1.2"
  testImplementation "org.scalatestplus:junit-4-12_${scalaBinaryVersion}:3.1.2.0"
}
